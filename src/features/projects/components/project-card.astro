---
import ExternalLink from "lucide-astro/ExternalLink";

import type { Project } from "@src/constants/projects";

type Props = {
  project: Project;
};

const { project } = Astro.props;

const hoverClasses =
  "relative before:absolute before:left-[50%] before:top-[50%] before:z-[-1] before:h-[calc(100%+24px)] before:w-[calc(100%+24px)] before:-translate-x-1/2 before:translate-y-[-50%] before:rounded-md before:bg-tertiary before:opacity-0 before:transition-opacity before:content-[''] hover:before:opacity-35";
---

<a
  href={project.href}
  target="_blank"
  rel="noreferrer"
  aria-label={`${project.title} (opens in a new tab)`}
  class={`block ${hoverClasses}`}
>
  <article class={`flex items-start gap-4 ${hoverClasses}`}>
    <img
      src={project.logo}
      alt={project.logoAlt ?? `${project.title} logo`}
      class="h-12 w-12 rounded-md object-cover"
      loading="lazy"
    />
    <div class="flex flex-1 flex-col gap-2">
      <div class="flex items-start justify-between gap-4">
        <h3
          class="text-primary text-base leading-tight font-semibold lg:text-xl"
        >
          {project.title}
        </h3>
        <ExternalLink
          class="text-secondary mt-0.5 h-4 w-4"
          aria-hidden="true"
        />
      </div>
      <p class="text-secondary text-sm leading-relaxed lg:text-base">
        {project.description}
      </p>
    </div>
  </article>
</a>
